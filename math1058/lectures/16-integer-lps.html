<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Lecture 16</title>

		<meta name="description" content="Math1058">
		<meta name="author" content="Ian Hawke">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="stylesheet" href="../reveal.js/dist/reset.css">
		<link rel="stylesheet" href="../reveal.js/dist/reveal.css">
		<link rel="stylesheet" href="../reveal.js/dist/theme/white.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="../reveal.js/plugin/highlight/monokai.css">

		<!-- Personal defaults -->
		<link rel="stylesheet" href="./reveal_css.css">
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section id="Title">

					<section>
						<h2 class="r-fit-text">Integer Linear Programs</h2>
						<p>
							<ul style="list-style: none;">
								<li> Ian Hawke
								<li> Michael Kenna-Allison
							</ul>
						</p>

						<aside class="notes">
							Integer problems are harder
						</aside>
					</section>

				</section>

				<section id="Introduction">

					<section>

						<h2>Integer problems</h2>
						<p>
							Problems considered so far:
						</p>
						<ul>
							<li>
								Sheet 0, shoe factory.
							</li>
							<li>
								Sheet 1, glass company.
							</li>
							<li>
								Sheet 2, airline crew.
							</li>
							<li>
								Sheet 3, instrument production.
							</li>
							<li>
								Sheet 4, sorting.
							</li>
							<li>
								Sheet 5, Nurse roster.
							</li>
						</ul>
						<p>
							<em>Every</em> problem here can be restricted to integers.
						</p>

						<aside class="notes">
							The formulation problems seen in the problem classes often involve decision variables that cannot be real: a saleable object that only has value if complete, or the assignment of a person to a task (where a fraction of their time makes no sense), or similar cases.
							<br>
							Usually we think of integer problems as easier than those on the reals (or on the complex numbers). It is a frustrating reality that often problems on restricted, disconnected fields like the integers are in fact much harder to solve.
						</aside>
					</section>

				</section>

				<section id="Formulation">

					<section>
						<h2>The problem</h2>
						\[
						\begin{array}{rcrcl}
						\min_x & \quad & c x && \\
						\text{subject to} & & A x & = & b \\
						& & x & \ge & 0.
						\end{array}
						\]
						<p>
							Here $x \in \color{red}{\mathbb{Z}^n}$. Also $A, b, c$ are rational.
						</p>
						<p class="fragment">
							The <em>binary</em> linear program restricts $x \in \{0, 1\}^n$. Allows for yes/no or true/false decisions.
						</p>

						<aside class="notes">
							The displayed equation that describes the problem is <em>identical</em> to the cases that we have considered so far. The only difference is the restrictions in the text after, where the decision variables are restricted to live in the integers. In order for this to make sense we can restrict all the other coefficients in the problem to be rational numbers. Even if they were real, in order for the solution to be integer we must be able to scale out by a common real factor to leave rational numbers.
							<br>
							There is a further useful restriction, which is to the <em>binary</em> linear program case. Here we restrict the decision variables to take only two values. In principle those two values could be anything, but conventionally they are one and zero. However, these typically represent yes/no decisions, or true/false values, or similar pairs.
							<br>
							In general we can mix real, integer, and binary decision variables within a problem. However, the key mathematical issues can be seen by considering just a single set of variables, which is where we start.
						</aside>
					</section>

				</section>

				<section id="Relaxation">

					<section>
						<h2>Relaxation</h2>
						<div class="container">
							<div class="col">
								<ul>
									<li>
										Solution restricted to integer lattice.
									</li>
									<li>
										Feasible region the same.
									</li>
									<li>
										Optimal solution not at vertex.
									</li>
									<li>
										Fundamental theorem fails.
									</li>
									<li class="fragment">
										Relaxation:
										<ul>
											<li>
												relax restriction $x \in \mathbb{Z}^n \to x \in \mathbb{R}^n$;
											</li>
											<li>
												solve standard problem;
											</li>
											<li>
												look at neighbours on lattice.
											</li>
										</ul>
									</li>
								</ul>
							</div>
							<div class="col">
								<img style="width:868px" src="images/16_ilps/ilp_lattice.svg">
							</div>
						</div>
						
						<aside class="notes">
							We look at our standard picture, which comes from the optimal portfolio problem, except here all the matrix coefficients are doubled so the size of the feasible region is cut in half.
							<br>
							We see the optimal solution to the standard problem, at the vertex in the top right, is not at an integer. Therefore we immediately see that the fundamental theorem fails. The optimal solution does lie on the boundary, but that is luck. In a general problem the boundary of the feasible region may not intersect any point in the integer lattice.
							<br>
							However, we can imagine using the standard problem to predict where to look for solutions of the integer problem. So, using the simplex method, or the graphical method, or some other approach, we solve the <em>relaxed</em> problem, or the <em>relaxation</em> of the integer linear program, where we drop the restriction on the decision variables and let them be reals. We can then investigate the $2^n$ neighbours in the integer lattice. This is not a small number to check, and grows intractably fast, but would still be realistic for moderate size problems.
						</aside>
					</section>

					<section>
						<h2>Relaxation fails</h2>
						\[
						\begin{array}{rrlcrlcl}
						\max_{x \in \mathbb{Z}^2}      & 5 & x_1 & + &   & x_2 \\
						\text{s.t.} &   &     &   &   & x_2 & \le & 2 \\
						            &   &     &   &   & x_2 & \ge & 1 \\
												&   & x_1 & + & 10 & x_2 & \ge & 21 \\
												&   & x_1 & - & 10 & x_2 & \ge & -9
						\end{array}
						\]
						<img style="width:868px" src="images/16_ilps/ilp_relaxation_fails.svg">

						<aside class="notes">
							From the graphical solution there are only four feasible points, marked in green, or yellow for the optimal solution. However, the feasible region for the relaxed problem is "long and thin". This makes the optimal solution of the relaxed problem a long way away from any of the feasible points of the original problem.
							<br>
							By changing the coefficients we can make this "long and thin" region extend arbitrarily far out to the right without ever intersecting a point on the integer lattice.
							<br>
							Unlike the Klee-Minty example, these sorts of pathological cases show up too often to make relaxation a robust strategy. Instead it is often better to split the feasible region into multiple regions and apply optimisation methods to each in turn. Finding a good strategy to split the feasible region is easier than finding a general robust method.
						</aside>
					</section>

					<section>
						<h2>Special case</h2>

						<p>
							Scale $A x = b$ so that $b \in \mathbb{Z}^n$. <em>If</em> optimal $A_B^{-1} \in \mathbb{Z}^{n \times n}$ then simplex works.
						</p>
						<ul class="fragment">
							<li>
								The solution is $x_B = A_B^{-1} b$ which is integer;
							</li>
							<li>
								the feasible region of the integer program is contained in that of the relaxed problem.
							</li>
						</ul>
						<p class="fragment">
							If $\det(A_S) \in \{ -1, 0, 1 \}$ for all square submatrices $A_S$ of $A$, then $A$ is <em>total unimodular</em> and $A_B^{-1}$ is integer.
						</p>

						<aside class="notes">
							Because the coefficients in the problem are all rational we can always scale the constraint matrix equation so that the right-hand-side vector is integer. From this, we think about the optimal solution of the relaxation problem, written in basic form.
							<br>
							In basic form we know the solution is given by the inverse of the basic matrix times the right-hand-side vector b. This will be integer if the inverse matrix is integer. It is also the case that the feasible region of the relaxation problem must contain the feasible points on the integer lattice. Therefore, if the inverse matrix is integer the optimal solution of the relaxation problem will be integer and feasible, and so optimal for the integer problem.
							<br>
							This seems like a very restrictive condition, and computing the inverse of a matrix is not ideal. In some cases it can be predicted, as in the total unimodularity case. There is a proof in the notes that if all the square submatrices have determinant of zero or plus/minus one, then the inverse of any basic matrix must be integer. This can be useful; for example, it can be shown that the shortest path problem which we will see next can be phrased as an integer problem which is solvable using relaxation. However, there are more efficient solution methods.
						</aside>
					</section>

				</section>

				<section id="Summary">
					<section>
						<h1>Summary</h1>

						<ul>
							<li>
								Integer linear programs are harder.
							</li>
							<li>
								Relaxing the integer constraint allows eg simplex to be used;
							</li>
							<li>
								Relaxation often does not work.
							</li>
							<li>
								Special cases (total unimodular) allow the relaxation problem to work.
							</li>
						</ul>
					</section>
				</section>

			</div>

		</div>


		<script src="../reveal.js/dist/reveal.js"></script>
		<script src="../reveal.js/plugin/zoom/zoom.js"></script>
		<script src="../reveal.js/plugin/notes/notes.js"></script>
		<script src="../reveal.js/plugin/search/search.js"></script>
		<script src="../reveal.js/plugin/markdown/markdown.js"></script>
		<script src="../reveal.js/plugin/highlight/highlight.js"></script>
		<script src="../reveal.js/plugin/math/math.js"></script>
		<script src="../reveal.js/plugin/spotlight/spotlight.js"></script>
		<script src="./reveal_defaults.js"></script>


	</body>
</html>
