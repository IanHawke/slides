<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Lecture 2</title>

		<meta name="description" content="Math1058">
		<meta name="author" content="Ian Hawke">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="stylesheet" href="../reveal.js/dist/reset.css">
		<link rel="stylesheet" href="../reveal.js/dist/reveal.css">
		<link rel="stylesheet" href="../reveal.js/dist/theme/white.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="../reveal.js/plugin/highlight/monokai.css">

		<!-- Personal defaults -->
		<link rel="stylesheet" href="./reveal_css.css">
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section id="Title">

					<section>
						<h2 class="r-fit-text">Introduction to Linear Programming</h2>
						<p>
							<ul style="list-style: none;">
								<li> Ian Hawke
								<li> Giles Richardson
							</ul>
						</p>

						<aside class="notes">
							Our focus for the first part of the course is Linear Programming.
						</aside>
					</section>

				</section>

				<section id="Diet problem">

					<section>

						<h2>Diet Problem</h2>

						<div style="position:absolute; width:900px; top:150px; left:0px">
							<p>
								Sam can only buy eggs (£1 each) and ham (£10 each).
							</p>
							<p>
								Every day Sam needs carbs (300g), protein (600g), and vitamins (1g) to live.
							</p>
							<table>
							<thead>
							  <tr>
							    <th>Food</th>
							    <th>Carbs</th>
							    <th>Protein</th>
							    <th>Vitamins</th>
							  </tr>
							</thead>
							<tbody>
							  <tr>
							    <td>Eggs</td>
							    <td>20</td>
							    <td>90</td>
							    <td>0.02</td>
							  </tr>
							  <tr>
							    <td>Ham</td>
							    <td>10</td>
							    <td>200</td>
							    <td>0.5</td>
							  </tr>
							</tbody>
							</table>

							<ul class="fragment fade-in">
								<li>
									<em>Decision</em>: How much of each to buy.
								</li>
								<li>
									<em>Objective</em>: Minimise cost.
								</li>
								<li>
									<em>Constraints</em>: Get enough nutrition.
								</li>
							</ul>
						</div>
						<div style="position:absolute; width:636px; top:150px; left:900px">
							<img style="width:'636px'" src="images/02_lp_intro/diet.jpeg">
						</div>

						<aside class="notes">
							The diet problem is a serious, real world case that was hugely important in the development of operational research, or mathematical programming. It was a live problem in the early to mid twentieth century. It had obvious implications for the health of the population, particularly when rationing was needed. In these cases the number of foodstuffs and nutrients considered was considerably larger - 77 foodstuffs and 9 nutrients, so this toy problem needs expanding considerably.
							<br>
							It still remains an important problem in a wide range of applications. Aid delivery and the provisioning of expeditions to remote locations (such as space) are typical examples. Often in these cases the focus is on minimising weight rather than cost, or some combination of the two. The mathematics of the problem formulation and solution is essentially unchanged.
						</aside>
					</section>

					<section>
						<h2>Formulation</h2>

						<ul>
							<li>
								<em>Variables</em>: $x_E, x_H \ge 0$. Amount of portions of eggs, ham, bought.
							</li>
							<li>
								<em>Constraints</em>:
								\[
								\begin{array}{rlcrlclcl}
								20 & x_E & + & 10 & x_H & \ge & 300 & \colon & \text{min. carbs,} \\
								90 & x_E & + & 200 & x_H & \ge & 600 & \colon & \text{min. protein,} \\
								0.02 & x_E & + & 0.5 & x_H & \ge & 1 & \colon & \text{min. vitamins}
								\end{array}
								\]
							</li>
							<li>
								<em>Objective function</em>: $\min 1 x_E + 10 x_H$.
							</li>
						</ul>
						<div class="fragment">
							<p>
								Compact form:
							</p>
							\[
							\begin{array}{lrlcrlcl}
							\min & 1 & x_E & + & 10 & x_H && \\
							\text{subject to} & 20 & x_E & + & 10 & x_H & \ge & 300 \\
							& 90 & x_E & + & 200 & x_H & \ge & 600 \\
							& 0.02 & x_E & + & 0.5 & x_H & \ge & 1 \\
							&& x_E, &&& x_H & \ge & 0.
							\end{array}
							\]
						</div>

						<aside class="notes">
							We now want to abstract away the details of the problem into something we can solve. This is the typical steps of turning a "word problem" into something that a set of mathematical steps can tackle. There are a sequence of steps to take.
							<br>
							First, we need to identify the variables. That is, what properties of the problem can we change in order to meet our objectives? In this case it is the amount of each foodstuff that we buy. We give each of these variables a label. We then consider all variables as a collection, or vector: the vector of decision variables. Here we have put a subscript on each to link it directly to the name of the food, either eggs or ham. As we move to larger problems, or more abstract cases, we will number the subscripts to make the link with components of the vector of decision variables more explicit.
							<br>
							Next we identify the constraints. These will be framed as functions of the variables. In general there will be $m$ constraints. Here there are three: one for each nutrient. We do not label these explicitly: as all need to be satisfied, it does not matter which is which. In this case the constraints are linear - each variable is multiplied by a constant value and the total is checked.
							<br>
							Finally, we need to identify the objective. What are we trying to optimise? Again we want to frame this in terms of the variables. The is the objective function: the function of the variables whose value we want to optimise. In this case we are trying to minimise the cost, and the cost is a linear function of the variables.
							<br>
							Having identified all of the components of the problem we want to write it in a standard, compact form. This puts the objective function first, then the constraints from the problem, and finally constraints resulting from the definitions of the variables. In our case we must have the variables being positive, as we cannot buy a negative amount of food.
						</aside>
					</section>

					<section>
						<h2>Abstraction</h2>
						<p>
							Go from our compact example
						</p>
						\[
						\begin{array}{lrlcrlcl}
						\min & 1 & x_E & + & 10 & x_H && \\
						\text{subject to} & 20 & x_E & + & 10 & x_H & \ge & 300 \\
						& 90 & x_E & + & 200 & x_H & \ge & 600 \\
						& 0.02 & x_E & + & 0.5 & x_H & \ge & 1 \\
						&& x_E, &&& x_H & \ge & 0
						\end{array}
						\]
						<p>
							to the general form
						</p>
						\[
						\begin{array}{lrlcrlclrcl}
						\min & \sum_{j=1}^n c_{j} & x_j & \\
						\text{subject to} & \sum_{j=1}^n a_{ij} & x_j & \ge & b_i, & \quad \forall i & \in & \{ 1, \dots, m \} \\
						&& x_j & \ge & 0, & \quad \forall j & \in & \{ 1, \dots, n \}.
						\end{array}
						\]

						<aside class="notes">
							We have abstracted our simplified diet problem, with two variables (eggs and ham) and three constraints from the problem (linked to the nutrients) and two positivity constraints (from the definition of the variables), and ended up with the compact example form.
							<br>
							A more general linear programming problem can be framed in a similar fashion. Here we show the compact form for a problem with $n$ variables and $n$ constraints. The coefficients $c_j$ define the objective function to optimise. The coefficients $a_{ij}$ define the problem constraints. For now, we are still imposing positivity.
							<br>
							It's important to note the links to linear algebra here. The general form of the objective function matches that for the dot product between the vector $c$ and the vector $x$, written in coefficient form. The general form of the constraints matches that of a matrix multiplication between a matrix $A$ and the vector $x$, and the inequality uses the vector $b$.
						</aside>

					</section>

				</section>

				<section id="Generalities">

					<section>

						<h2>Mathematical Programming</h2>
						<p>
							General structure:
						</p>
						\[
						\begin{array}{lrcl}
						[\min|\max] & f(x) && \\
						\text{subject to} & g_1(x) & [\ge|\le|=]_1 & b_1, \\
						& \vdots & \vdots & \vdots \\
						& g_m(x) & [\ge|\le|=]_m & b_m, \\
						& x \in X \subseteq \mathbb{R}^n & &
						\end{array}
						\]



						<aside class="notes">
							In this more general form we have general functions for the objective functions and constraints, and the set in which the solutions lie can be any subset of the real numbers (such as the positive integers). This leads to a number of very hard problems to solve.
						</aside>

					</section>

					<section>

						<h2>Optima</h2>
						<img style="width:1000px;" src="images/02_lp_intro/global_local_optima.svg">
						<ul>
							<li>
								Local optima are easier to find.
							</li>
							<li>
								Global optima are what we want.
							</li>
						</ul>

						<aside class="notes">
							A local optima exists if, in a small region around that point, the objective function is "better" for all points in that small region. For example, in a minimization problem, all points near the local optimum have a larger objective function value.
							<br>
							The global optima is the best feasible solution over the entire feasible region. Finding global optima can be hard and slow, particularly in high dimensional problems. However, for this module at least, it is the problem we're interested in solving.
						</aside>
					</section>

					<section>

						<h2>Linear Programming</h2>
						<ol>
							<li>
								Objective function $f$ is linear;
							</li>
							<li>
								Constraints $g_i$ are linear;
							</li>
							<li>
								Decision variables $x$ are real.
							</li>
						</ol>
						\[
						\begin{array}{lrlcccrlcl}
						[\min|\max] & c_1 & x_1 & + & \dots & + & c_n & x_n && \\
						\text{subject to} & a_{11} & x_1 & + & \dots & + & a_{1n} & x_n & [\ge|\le|=]_1 & b_1, \\
						& \vdots & \vdots & \vdots & \vdots & \vdots & \vdots & \vdots & \vdots & \vdots \\
						& a_{m1} & x_1 & + & \dots & + & a_{mn} & x_n & [\ge|\le|=]_m & b_m, \\
						& x \in \mathbb{R}^n & &&&&&&&
						\end{array}
						\]


						<aside class="notes">
							The linear programming case makes three restrictions compared to the full mathematical programming case. Specifically, both the objective function and (all of the) constraints are linear. That is, they are linear functions of the decision variables $x$. This means they can be expressed as sums of constant coefficients multiplied by the value of the decision variables. The final restriction is that the decision variables themselves must be real and not belong to some special subset of the reals (such as the integers, which makes life much harder).
							<br>
							It may seem that we have restricted the problem so far that it will have little use. However, it is often the case that a general problem can be repesented <em>locally</em> as a linear problem using a Taylor series expansion (the multi-variable case needed is covered in MATH1060, for example).
						</aside>

					</section>

				</section>

				<section id="Other examples">

					<section>
						<h2>Optimal portfolio problem</h2>

						<p>
							Two assets $A, B$, different returns, diversify investments to hedge risk.
						</p>
						<ul>
							<li>
								Expected returns of 2% ($A$) and 3% ($B$);
							</li>
							<li>
								Total to invest of $10$ units;
							</li>
							<li>
								Invest at most 70% of total in $A$ (safe) and 50% of total in $B$ (risky).
							</li>
						</ul>
						<div class="fragment fade-in">
							\[
							\begin{array}{lrlcrlcl}
							\max & 0.02 & x_A & + & 0.03 & x_B && \\
							\text{subject to} & & x_A & + &  & x_B & \le & 10 \\
							&  & x_A &  &  &  & \le & 7 \\
							& &  &  &  & x_B & \le & 5 \\
							&& x_A, &&& x_B & \ge & 0.
							\end{array}
							\]
						</div>

						<aside class="notes">
							We'll now look at a different linear programming problem. We want to invest a client's money in two assets. There's a total of 10 units (say 10 thousand pounds, for example). The expected returns are linked to the expected risk: asset $A$ returns 2 percent but is safer, whilst asset $B$ returns 3 percent. To reduce our exposure to risk we put limits on how much of the money we are willing to invest in either asset; so at most 70%, or 7 thousand pounds, in asset $A$, and 50%, or 5 thousand pounds, in asset $B$. We then want to maximise the expected return.
							<br>
							The objective function is the total return to maximise. The constraints limit the amount invested in each asset. As usual the variables, which are the amount of invested in each asset, must be positive.
							<br>
							As with the diet problem this toy example can be generalised to an arbitrary number of assets and a complex investment strategy. As a real financial investment approach it will almost certainly fail as it ignores statistical effects, particularly the volatility of the assets and their correlations and covariances. However, the linear programming problem here is a first step in financial optimisation.
							<br>
							We'll see in later lectures that the mathematics does not care if the problem is a maximization instead of a minimization, nor if the constraints are bounded above or below. This form is slightly easier to visualise for our first solution method.
						</aside>
					</section>

					<section>

						<h2>Optimal transport</h2>
						<div style="position:absolute; width:968px; top:100px; left:0px">
							<ul>
								<li>
									Two boxes contain dirt, amounts
									\[
										\mu_1=0.3, \mu_2=0.7.
									\]
								</li>
								<li>
									Need to move dirt to boxes on the right, so that
									<ul>
										<li>
											$\nu_1=0.6, \nu_2=0.4$;
										</li>
										<li>
											minimise distance travelled, $\min |i-j|^2$.
										</li>
									</ul>
								</li>
							</ul>
							<div class="fragment fade-in" data-fragment-index="1">
								\[
								\small
								\begin{alignat*}{5}
								& \min & 0 & x_{11}  + & |1-2|^2 & x_{12}  + & |2-1|^2 & x_{21}  + & 0 & x_{22}  \\
								& \text{subject to} &  & x_{11}  + &  & x_{12} & & & & \phantom{x_{22}} =  0.3 \quad (= \mu_1) \\
							  & & & &&&& x_{21} & + & x_{22}  =  0.7 \quad (= \mu_2) \\
								& & & x_{11} &  &  &  + & x_{21} &  & \phantom{x_{22}} =  0.6 \quad (= \nu_1) \\
								& & &  &  & x_{12} & & & + & x_{22}  =  0.4 \quad (= \nu_2) \\
								&& & x_{11} , & & x_{12} , & &  x_{21} , & &  x_{22}  \ge  0.
								\end{alignat*}
								\]
							</div>
						</div>
						<div style="position:absolute; width:668px; top:50px; left:868px">
							<img style="width:'668px'" src="images/02_lp_intro/optimal_transport.svg">
							<img style="width:'668px'" src="images/02_lp_intro/digger.jpeg" class="fragment fade-out" data-fragment-index="1">
						</div>

						<aside class="notes">
							In the optimal transport problem we have a prosaic problem with deep implications for probability. Suppose we have two boxes containing given amounts of dirt, and that we want to move the dirt to two other boxes that start off empty. The filled $\mu$ boxes have correspond $\nu$ boxes which are close enough that it costs nothing to move the dirt between each. However, there are constraints on exactly how much dirt each $\nu$ box should receive. When shifting dirt between, for example, filled box $\mu_1$ to initially empty box $\nu_2$, the distance between them incurs a cost (which is the square of the difference between the box numbers).
							<br>
							Here we give each decision variable two indexes. The first denotes the $\mu$ box the dirt is moved from. The second denotes the $\nu$ box the dirt is moved to. This notation does not stop us from thinking of the decision variables $x$ as forming a vector.
							<br>
							With this notation we can consider each box in turn to write down the corresponding constraint. For example, the dirt removed from box $\mu_1$ must equal 0.3. Equally, that dirt removed is $x_{11}+x_{12}$. As another example, the dirt placed in box $\nu_2$ must equal 0.4. Equally, that dirt placed must be $x_{12} + x_{22}$.
							<br>
							We see we now have the final case: the constraints are expressed as <em>equalities</em>.
						</aside>

					</section>

				</section>

				<section id="Summary">
					<section>
						<h1>Summary</h1>

						<ul>
							<li>
								Mathematical programming formulates and solves decision problems.
							</li>
							<li>
								Linear programs are specified by the coefficients of the objective functions and constraints.
							</li>
							<li>
								Linear programs are powerful and widespread, and cover
								<ul>
									<li>
										minimization and maximization problems;
									</li>
									<li>
										constraints with all types of (in)equalities;
									</li>
									<li>
										arbitrary numbers of variables and constraints.
									</li>
								</ul>
							</li>
						</ul>
					</section>
				</section>

			</div>

		</div>


		<script src="../reveal.js/dist/reveal.js"></script>
		<script src="../reveal.js/plugin/zoom/zoom.js"></script>
		<script src="../reveal.js/plugin/notes/notes.js"></script>
		<script src="../reveal.js/plugin/search/search.js"></script>
		<script src="../reveal.js/plugin/markdown/markdown.js"></script>
		<script src="../reveal.js/plugin/highlight/highlight.js"></script>
		<script src="../reveal.js/plugin/math/math.js"></script>
		<script src="../reveal.js/plugin/spotlight/spotlight.js"></script>
		<script src="./reveal_defaults.js"></script>


	</body>
</html>
